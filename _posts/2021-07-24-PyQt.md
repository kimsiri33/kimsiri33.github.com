---
layout: post
categories: posts
title: PyQt python
subtitle: time table in python
featured-image:
tags: [code post]
date-string: JULY 30, 2021
---

```python
f = open('시간표.txt', 'rt', encoding='UTF8')
c=dict()
n=0
while True:
    line = f.readline()
    if '\n' in line:
        line=line.strip('\n')
    if not line : break
    c[n]=line
    n=n+1
f.close()

import sys
from datetime import *
from PyQt5.QtGui import *
from PyQt5.QtCore import *
from PyQt5.QtWidgets import *
today = date.today()
totoday=datetime.today()
days = ['월요일','화요일','수요일','목요일','금요일','토요일','일요일']
a=today.weekday()
g=0
tiime=dict()
h=c[today.weekday()].split()
while g<7:
    g=g+1
    tiime[h[g-1]]=g
class MyWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        self.initUI()

    def initUI(self):
        self.setWindowTitle('오늘의 시간')
        self.setGeometry(200, 200, 360, 100)

        self.label = QLabel(str(days[a]), self)
        self.label.move(140, 10)
        self.label.resize(150, 30)

        self.lineEdit = QLineEdit("", self)
        self.lineEdit.move(20, 50)
        self.lineEdit.textChanged.connect(self.textchanged)

        button2 = QPushButton("확인", self)
        button2.move(130, 50)
        button2.clicked.connect(self.button2Clicked)


        button3 = QPushButton("종료", self)
        button3.move(240, 50)
        button3.clicked.connect(QCoreApplication.instance().quit)

    def lineEditChanged(self):
        self.label.setText(self.lineEdit.text())

    def textchanged(self,text):
        self.b=text

    def button2Clicked(self):
        
        if self.b[:1].isdigit():
            print(2)
            tiime2=dict(map(reversed, tiime.items()))
            QMessageBox.about(self, str(totoday.hour)+'시'+str(totoday.minute)+'분', '오늘 '+str(self.b[:1])+'교시에 '+str(tiime2[int(self.b[:1])])+'과목이 있습니다.')
        else:
            print(1)
            if self.b in c[today.weekday()]:
                QMessageBox.about(self, str(totoday.hour)+'시'+str(totoday.minute)+'분', str(tiime[self.b])+'교시에 '+str(self.b)+'이/가 있습니다.')
            else:
                QMessageBox.about(self, "메세지 박스", '해당 과목은 오늘 없습니다.')
             

```

#### 시간표.txt (가로 교시, 세로 요일)

역사 기가 사회 체육 과학 영어 없음

미술 미술 진로 수학 국어 영어 스클

국어 과학 역사 체육 수학 동활 없음

기가 기가 중국어 사회 국어 영어 과학

영어 수학 과학 중국어 체육 국어 없음

2021 학교 1학기 기준 시간표 


```python
if __name__ == "__main__":
    app = QApplication(sys.argv)
    window = MyWindow()
    window.show()
    sys.exit(app.exec_())
```
